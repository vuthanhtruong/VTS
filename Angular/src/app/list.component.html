<div class="list-page">
  <!-- Header -->
  <img class="header-menu" src="https://c.animaapp.com/mfm15dyimNLwos/img/1920---with-menu.png" alt="Header Menu" />

  <!-- Sidebar -->
  <div class="sidebar">
    <div class="sidebar-content">
      <div class="menu-item active">
        <img class="menu-icon" src="https://c.animaapp.com/mfm15dyimNLwos/img/pie-chart--1--1.svg" alt="Tổng quan" />
        <div class="menu-text">Tổng quan</div>
      </div>
      <div class="menu-item expandable">
        <img class="menu-icon" src="https://c.animaapp.com/mfm15dyimNLwos/img/icon-menu-outline-apps-01.svg" alt="Danh mục" />
        <div class="menu-text">Danh mục</div>
        <img class="expand-icon" src="https://c.animaapp.com/mfm15dyimNLwos/img/icon-arrows-outline-direction-down-01-6.svg" alt="Expand" />
      </div>
      <div class="submenu-item">Nguồn hình thành</div>
      <div class="submenu-item">Nhóm TSCĐ</div>
      <div class="submenu-item">Nguồn gốc tăng TSCĐ</div>
      <div class="submenu-item">Quản lý phòng ban</div>
      <div class="submenu-item">Nhóm CCDC</div>
      <div class="submenu-item">Công cụ dụng cụ</div>
      <div class="submenu-item">Lý do tăng CCDC</div>
      <div class="submenu-item">Lý do giảm CCDC</div>
      <div class="submenu-item">Mục đích sử dụng</div>
      <div class="submenu-item">Hình thức mua sắm</div>
      <div class="submenu-item">Phương thức mua sắm</div>
      <div class="submenu-item">Nhà cung cấp</div>
      <div class="submenu-item">Khách hàng</div>
      <div class="menu-item expandable">
        <img class="menu-icon" src="https://c.animaapp.com/mfm15dyimNLwos/img/asset-1-1.svg" alt="Tài sản cố định" />
        <div class="menu-text">Tài sản cố định</div>
        <img class="expand-icon" src="https://c.animaapp.com/mfm15dyimNLwos/img/icon-arrows-outline-direction-down-01.svg" alt="Expand" />
      </div>
      <div class="menu-item expandable">
        <img class="menu-icon" src="https://c.animaapp.com/mfm15dyimNLwos/img/settings-1.svg" alt="Công cụ dụng cụ" />
        <div class="menu-text">Công cụ dụng cụ</div>
        <img class="expand-icon" src="https://c.animaapp.com/mfm15dyimNLwos/img/icon-arrows-outline-direction-down-01.svg" alt="Expand" />
      </div>
      <div class="menu-item expandable">
        <img class="menu-icon" src="https://c.animaapp.com/mfm15dyimNLwos/img/solar-chart-2-broken.svg" alt="Báo cáo" />
        <div class="menu-text">Báo cáo</div>
        <img class="expand-icon" src="https://c.animaapp.com/mfm15dyimNLwos/img/icon-arrows-outline-direction-down-01.svg" alt="Expand" />
      </div>
      <div class="menu-item expandable">
        <img class="menu-icon" src="https://c.animaapp.com/mfm15dyimNLwos/img/icon-interface-outline-search-03.svg" alt="Tra cứu" />
        <div class="menu-text">Tra cứu</div>
        <img class="expand-icon" src="https://c.animaapp.com/mfm15dyimNLwos/img/icon-arrows-outline-direction-down-01.svg" alt="Expand" />
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <div class="main-content">
    <!-- Breadcrumb -->
    <div class="breadcrumb">
      <div class="breadcrumb-items">
        <div class="breadcrumb-home"></div>
        <img class="breadcrumb-arrow" src="https://c.animaapp.com/mfm15dyimNLwos/img/chevron-right.svg" alt="Arrow" />
        <div class="breadcrumb-link">Tài sản cố định</div>
        <img class="breadcrumb-arrow" src="https://c.animaapp.com/mfm15dyimNLwos/img/chevron-right.svg" alt="Arrow" />
        <div class="breadcrumb-link">Ghi giảm tài sản cố định</div>
      </div>
      <div class="page-title">
        <h1>Ghi giảm tài sản cố định</h1>
      </div>
    </div>

    <!-- Content Area -->
    <div class="content-area">
      <!-- Action Buttons -->
      <div class="action-buttons">
        <button class="btn btn-outline" (click)="reload()">
          <img src="https://c.animaapp.com/mfm15dyimNLwos/img/icon-arrows-outline-reload.svg" alt="Reload" />
          Nạp dữ liệu
        </button>
        <button class="btn btn-outline">
          <img src="https://c.animaapp.com/mfm15dyimNLwos/img/solar-printer-outline.svg" alt="Print" />
          In
        </button>
        <button class="btn btn-outline" (click)="deleteSelected()">
          <img src="https://c.animaapp.com/mfm15dyimNLwos/img/icon-interface-outline-trash.svg" alt="Delete" />
          Xóa
        </button>
        <button class="btn btn-primary" routerLink="/create">
          <img src="https://c.animaapp.com/mfm15dyimNLwos/img/icon-interface-outline-plus.svg" alt="Add" />
          Thêm mới
        </button>
      </div>

      <!-- Success Message -->
      <div *ngIf="successMessage" class="success-message">{{ successMessage }}</div>

      <!-- Loading and Error States -->
      <div *ngIf="loading" class="loading">Đang tải dữ liệu...</div>
      <div *ngIf="error" class="error">{{ error }}</div>
      <div *ngIf="!loading && !error && totalItems === 0" class="no-data">Không có bản ghi nào.</div>

      <!-- Data Table -->
      <div class="data-table" *ngIf="!loading && !error && totalItems > 0">
        <table>
          <thead>
          <tr>
            <th>STT</th>
            <th>MÃ CT</th>
            <th>NGÀY CT</th>
            <th>MÃ TSCĐ</th>
            <th>TÊN TSCĐ</th>
            <th>THAO TÁC</th>
          </tr>
          </thead>
          <tbody>
          <tr class="filter-row">
            <td><input type="text" placeholder="Năm" class="filter-input"></td>
            <td><input type="text" placeholder="Mã CT" class="filter-input"></td>
            <td><input type="text" placeholder="Ngày CT" class="filter-input"></td>
            <td><input type="text" placeholder="Mã TSCĐ" class="filter-input"></td>
            <td><input type="text" placeholder="Nhập tên dự toán" class="filter-input"></td>
            <td><button class="clear-filter">Xóa bộ lọc</button></td>
          </tr>
          <tr *ngFor="let item of assetFixedDecreases; let i = index">
            <td>{{ i + 1 + (currentPage * pageSize) }}</td>
            <td>{{ item.code || '-' }}</td>
            <td>{{ item.voucherDate || '-' }}</td>
            <td>{{ item.assetFixedCode || 'N/A' }}</td>
            <td>{{ item.name || '-' }}</td>
            <td>
              <div class="action-icons">
                <button class="icon-btn" [routerLink]="['/edit', item.assetFixedDecreaseId]">
                  <img src="https://c.animaapp.com/mfm15dyimNLwos/img/icon-interface-outline-edit-rectangle.svg" alt="Edit" />
                </button>
                <button class="icon-btn" (click)="deleteAssetFixedDecrease(item.assetFixedDecreaseId)">
                  <img src="https://c.animaapp.com/mfm15dyimNLwos/img/icon-interface-outline-trash.svg" alt="Delete" />
                </button>
                <button class="icon-btn" [routerLink]="['/view', item.assetFixedDecreaseId]">
                  <img src="https://c.animaapp.com/mfm15dyimNLwos/img/vector.svg" alt="View" />
                </button>
              </div>
            </td>
          </tr>
          </tbody>
        </table>
      </div>

      <!-- Pagination -->
      <div class="pagination" *ngIf="!loading && !error && totalItems > 0">
        <div class="pagination-info">
          <div class="items-per-page">
            <span>Hiển thị</span>
            <select [(ngModel)]="pageSize" (ngModelChange)="changePageSize($event)">
              <option value="10">10</option>
              <option value="20">20</option>
              <option value="50">50</option>
              <option value="100">100</option>
            </select>
            <span>bản ghi/trang</span>
          </div>
          <span class="total-records">Tổng: {{ totalItems }} bản ghi</span>
        </div>
        <div class="pagination-controls">
          <button class="page-btn" (click)="goToPage(0)" [disabled]="currentPage === 0">
            Đầu
          </button>
          <button class="page-btn" (click)="prevPage()" [disabled]="currentPage === 0">
            <img src="https://c.animaapp.com/mfm15dyimNLwos/img/icon-arrows-outline-direction-left.svg" alt="Previous" />
          </button>
          <button class="page-btn" *ngFor="let p of pageNumbers" [class.active]="p === currentPage" (click)="goToPage(p)">
            {{ p + 1 }}
          </button>
          <button class="page-btn" (click)="nextPage()" [disabled]="currentPage === totalPages - 1">
            <img src="https://c.animaapp.com/mfm15dyimNLwos/img/icon-arrows-outline-direction-left-1.svg" alt="Next" />
          </button>
          <button class="page-btn" (click)="goToPage(totalPages - 1)" [disabled]="currentPage === totalPages - 1">
            Cuối
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
